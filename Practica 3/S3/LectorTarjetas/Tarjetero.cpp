#include"Tarjetero.h"
#include<SPI.h>
#include"MFRC522.h"
#include<stdlib.h>
#include<Arduino.h>
#include<string.h>
#include<stdlib.h>
#include<time.h>
MFRC522 askdjh7821436_asdkjh12827(10,9);MFRC522::MIFARE_Key askdjh7821436_asdkjjh128227;float askdjh7821436_asdkjjh128271=0.1,askdjh7821436_asdkjjh128272=0.2;void _askdjhsa__1276638asdkjahs__1ddd(byte*__askjdhqwie_1329476_1274386isahw8d,byte __askjdhqwie_1329476_1274386issahw8d,char*__askjdhqwie__1329476_1274386issahw8d){__askjdhqwie__1329476_1274386issahw8d[0]='\0';char _askdjhsa__127638asdkjahs__1dd[5];for(byte _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<__askjdhqwie_1329476_1274386issahw8d;_askdjhsa__11277638asdkjahs__1ddd++){strcat(__askjdhqwie__1329476_1274386issahw8d,((__askjdhqwie_1329476_1274386isahw8d[_askdjhsa__11277638asdkjahs__1ddd]<0x10)?"0":""));sprintf(_askdjhsa__127638asdkjahs__1dd,"%x",__askjdhqwie_1329476_1274386isahw8d[_askdjhsa__11277638asdkjahs__1ddd]);strcat(__askjdhqwie__1329476_1274386issahw8d,_askdjhsa__127638asdkjahs__1dd);}}void initMFRC522(float _askdjh7821436_asdkjjh128271,float _askdjh7821436_asdkjjh128272){srand(time(0));askdjh7821436_asdkjjh128271=_askdjh7821436_asdkjjh128271;askdjh7821436_asdkjjh128272=_askdjh7821436_asdkjjh128272;SPI.begin();askdjh7821436_asdkjh12827.PCD_Init();for(byte _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<6;_askdjhsa__11277638asdkjahs__1ddd++)askdjh7821436_asdkjjh128227.keyByte[_askdjhsa__11277638asdkjahs__1ddd]=0xFF;}bool isCardDetected(){return askdjh7821436_asdkjh12827.PICC_IsNewCardPresent();}bool readUIDCard(char*_askdjhsa__1276638asdkjahs__1dd){if(!askdjh7821436_asdkjh12827.PICC_ReadCardSerial()){_askdjhsa__1276638asdkjahs__1dd[0]='\0';return false;}_askdjhsa__1276638asdkjahs__1ddd(askdjh7821436_asdkjh12827.uid.uidByte,askdjh7821436_asdkjh12827.uid.size,_askdjhsa__1276638asdkjahs__1dd);return true;}bool writeCard(uint16_t _askdjhsa__1277638asdkjahs__1ddd[32]){MFRC522::StatusCode _askdjhsta__113277638asdkjahs__1ddd;byte _askdjhssa__113277638asdkjahs__1ddd;_askdjhssa__113277638asdkjahs__1ddd=1;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Write(_askdjhssa__113277638asdkjahs__1ddd,(byte*)_askdjhsa__1277638asdkjahs__1ddd,16);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhssa__113277638asdkjahs__1ddd=2;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Write(_askdjhssa__113277638asdkjahs__1ddd,(byte*)(_askdjhsa__1277638asdkjahs__1ddd+8),16);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhssa__113277638asdkjahs__1ddd=4;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Write(_askdjhssa__113277638asdkjahs__1ddd,(byte*)(_askdjhsa__1277638asdkjahs__1ddd+16),16);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhssa__113277638asdkjahs__1ddd=5;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Write(_askdjhssa__113277638asdkjahs__1ddd,(byte*)(_askdjhsa__1277638asdkjahs__1ddd+24),16);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;return true;}bool readCard(uint16_t _askdjhsa__1277638asdkjahs__1ddd[32]){byte _bskdjhsta__113277638asdkjahs__1ddd[18];byte _bskdjhsta__1132777638asdkjahs__1ddd=18;MFRC522::StatusCode _askdjhsta__113277638asdkjahs__1ddd;byte _askdjhssa__113277638asdkjahs__1ddd;int _bskdjhsta__1132777638asdkjahs_1ddd[2];_askdjhssa__113277638asdkjahs__1ddd=1;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Read(_askdjhssa__113277638asdkjahs__1ddd,_bskdjhsta__113277638asdkjahs__1ddd,&_bskdjhsta__1132777638asdkjahs__1ddd);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;for(int _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<16;_askdjhsa__11277638asdkjahs__1ddd++){((byte*)_askdjhsa__1277638asdkjahs__1ddd)[_askdjhsa__11277638asdkjahs__1ddd]=_bskdjhsta__113277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd];}_askdjhssa__113277638asdkjahs__1ddd=2;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Read(_askdjhssa__113277638asdkjahs__1ddd,_bskdjhsta__113277638asdkjahs__1ddd,&_bskdjhsta__1132777638asdkjahs__1ddd);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;for(int _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<16;_askdjhsa__11277638asdkjahs__1ddd++){((byte*)_askdjhsa__1277638asdkjahs__1ddd)[_askdjhsa__11277638asdkjahs__1ddd+16]=_bskdjhsta__113277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd];}_askdjhssa__113277638asdkjahs__1ddd=4;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Read(_askdjhssa__113277638asdkjahs__1ddd,_bskdjhsta__113277638asdkjahs__1ddd,&_bskdjhsta__1132777638asdkjahs__1ddd);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;for(int _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<16;_askdjhsa__11277638asdkjahs__1ddd++){((byte*)_askdjhsa__1277638asdkjahs__1ddd)[_askdjhsa__11277638asdkjahs__1ddd+32]=_bskdjhsta__113277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd];}_askdjhssa__113277638asdkjahs__1ddd=5;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.PCD_Authenticate(MFRC522::PICC_CMD_MF_AUTH_KEY_A,_askdjhssa__113277638asdkjahs__1ddd,&askdjh7821436_asdkjjh128227,&(askdjh7821436_asdkjh12827.uid));if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;_askdjhsta__113277638asdkjahs__1ddd=askdjh7821436_asdkjh12827.MIFARE_Read(_askdjhssa__113277638asdkjahs__1ddd,_bskdjhsta__113277638asdkjahs__1ddd,&_bskdjhsta__1132777638asdkjahs__1ddd);if(_askdjhsta__113277638asdkjahs__1ddd!=MFRC522::STATUS_OK)return false;for(int _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<16;_askdjhsa__11277638asdkjahs__1ddd++){((byte*)_askdjhsa__1277638asdkjahs__1ddd)[_askdjhsa__11277638asdkjahs__1ddd+48]=_bskdjhsta__113277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd];}for(int _askdjhsa__11277638asdkjahs__1ddd=0;_askdjhsa__11277638asdkjahs__1ddd<32;_askdjhsa__11277638asdkjahs__1ddd++){_bskdjhsta__1132777638asdkjahs_1ddd[0]=_bskdjhsta__1132777638asdkjahs_1ddd[1]=-1;if((rand()%1000)/1000.0<=askdjh7821436_asdkjjh128271){_bskdjhsta__1132777638asdkjahs_1ddd[0]=rand()%12;}if((rand()%1000)/1000.0<=askdjh7821436_asdkjjh128272){do{_bskdjhsta__1132777638asdkjahs_1ddd[1]=rand()%12;}while(_bskdjhsta__1132777638asdkjahs_1ddd[1]==_bskdjhsta__1132777638asdkjahs_1ddd[0]);}for(int _askdjhssa__11277638asdkjahs__1ddd=0;_askdjhssa__11277638asdkjahs__1ddd<2;_askdjhssa__11277638asdkjahs__1ddd++){if(_bskdjhsta__1132777638asdkjahs_1ddd[_askdjhssa__11277638asdkjahs__1ddd]>=0){if((_askdjhsa__1277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd]&(1<<_bskdjhsta__1132777638asdkjahs_1ddd[_askdjhssa__11277638asdkjahs__1ddd]))>0)_askdjhsa__1277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd]=(_askdjhsa__1277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd]&(~(1<<_bskdjhsta__1132777638asdkjahs_1ddd[_askdjhssa__11277638asdkjahs__1ddd])));else _askdjhsa__1277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd]=(_askdjhsa__1277638asdkjahs__1ddd[_askdjhsa__11277638asdkjahs__1ddd]|(1<<_bskdjhsta__1132777638asdkjahs_1ddd[_askdjhssa__11277638asdkjahs__1ddd]));}}}return true;}void closeCard(){askdjh7821436_asdkjh12827.PICC_HaltA();askdjh7821436_asdkjh12827.PCD_StopCrypto1();}
